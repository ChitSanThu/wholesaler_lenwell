webpackJsonp([24],{"1Dp5":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("z2X1"),a=s.n(i),n={data:function(){return{lang:this.$i18n.locale,interval:4e3,skuList:[],userinfo:[],detail:[],id:""}},created:function(){var t=this.$route.query;this.id=t.id,this.getDetailInfo(this.id),this.userinfo=a.a.getItem("userinfo")},methods:{getDetailInfo:function(t){var e=this;e.$request.GoodsGetDetail({id:t}).then(function(t){if(1==t.code){e.detail=t.data;var s=[];for(var i in t.data.sku){var a={id:t.data.sku[i].id,title:t.data.sku[i].title,price:t.data.sku[i].price,stock:t.data.sku[i].stock,nums:0,total_price:0};s.push(a)}e.skuList=s}})},setNums:function(t,e,s){if("jian"==t){if(e.nums<=0)return!1;this.skuList[s].nums=this.skuList[s].nums-1}else if("jia"==t){if(e.nums>=e.stock)return!1;this.skuList[s].nums=this.skuList[s].nums+1}},numsUpdate:function(t,e){if(t.nums<0)return this.skuList[e].nums=0,!1;if(t.nums>=t.stock)return this.skuList[e].nums=t.stock,!1;var s=Number(t.price)*this.skuList[e].nums;this.skuList[e].total_price=this.returnFloat(s)},returnFloat:function(t){var e=(t=Math.round(100*parseFloat(t))/100).toString().split(".");return 1==e.length?t=t.toString()+".00":e.length>1?(e[1].length<2&&(t=t.toString()+"0"),t):void 0},addCart:function(t){var e=this;return t.stock<=0?(e.$message.error("This product is temporarily out of stock. Please select another product"),!1):void 0==t.nums||null==t.nums||0==t.nums?(e.$message.error("Nums cannot be empty"),!1):void 0==e.userinfo||null==e.userinfo||""==e.userinfo?(e.$message.error("Please login first"),!1):void e.$request.GoodsCartSetAdd({goods_id:e.id,sku_id:t.id,nums:t.nums}).then(function(t){e.isCartSubmit=!1,1==t.code&&e.$message.success(t.msg)})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"web_goodsdetail_container"},[s("div",{staticClass:"view_nav"},[s("div",{staticClass:"go_nav",on:{click:function(e){return t.goHome()}}},[t._v("Home")]),t._v(" "),s("div",[t._v(">")]),t._v(" "),s("div",[t._v("All Goods")]),t._v(" "),s("div",[t._v(">")]),t._v(" "),s("div",[t._v("Goods Detail")]),t._v(" "),s("div",[t._v(">")]),t._v(" "),t.detail.goodsinfo?s("div",[t._v(t._s(t.detail.goodsinfo.title))]):t._e()]),t._v(" "),s("div",{staticClass:"web_goodsdetail_baseinfo"},[s("div",{staticClass:"detail_left fl"},[t.detail.detail?s("el-carousel",{staticClass:"goods_detail_carousel",attrs:{autoplay:"",interval:t.interval,height:"400px"}},t._l(t.detail.detail.images_full,function(t,e){return s("el-carousel-item",{key:e,staticClass:"goods_detail_carousel_item"},[s("img",{staticClass:"goods_detail_carousel_itemimg",attrs:{src:t,alt:""}})])}),1):t._e()],1),t._v(" "),s("div",{staticClass:"detail_right fr"},[t.detail.goodsinfo?s("div",{staticClass:"model_title"},[t._v(t._s(t.detail.goodsinfo.title))]):t._e(),t._v(" "),t.detail.detail?s("div",{staticClass:"model_remark",domProps:{innerHTML:t._s(t.detail.detail.contents)}}):t._e()]),t._v(" "),s("div",{staticClass:"cleardiv"}),t._v(" "),s("div",{staticClass:"goods_detail_variation_con"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.skuList,border:""}},[s("el-table-column",{attrs:{prop:"title",label:"Variation",width:"390"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"Price($)",width:"119"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stock",label:"Stock",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{label:"Nums",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticStyle:{"text-align":"center"}},[s("el-input",{attrs:{type:"number"},on:{change:function(s){return t.numsUpdate(e.row,e.$index)}},model:{value:e.row.nums,callback:function(s){t.$set(e.row,"nums",s)},expression:"scope.row.nums"}})],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"total_price",width:"149",label:"Total Price($)"}}),t._v(" "),s("el-table-column",{attrs:{label:"Add Cart",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",{staticStyle:{"text-align":"center"}},[s("span",{staticClass:"add_cart",on:{click:function(s){return t.addCart(e.row)}}},[t._v("\n                Add\n              ")])])]}}])})],1)],1)])])},staticRenderFns:[]};var l=s("VU/8")(n,o,!1,function(t){s("coXr")},"data-v-4de9678d",null);e.default=l.exports},coXr:function(t,e){}});