webpackJsonp([23],{VAfO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{id:"",lang:this.$i18n.locale,checked:!1,subscribe:!1,dialogTableVisible:!1,defaultAddress:"",distAddress:"",address:"",selectAddrType:"",isSubmit:!1,detail:[],models:[],formData:{models:[],addr_id:"",different_address:2,c_addr_id:"",subscription_msg:"",form_token:"",remark:""}}},created:function(){var t=this.$route.query;this.formData.models=JSON.parse(decodeURI(t.id)),this.getTrueOrderInfo(),this.getAddressList(),this.bindSubscribe(),this.getformtoken()},methods:{getTrueOrderInfo:function(){var t=this;t.$request.getTrueOrderInfo({models:t.formData.models}).then(function(e){1==e.code?(t.detail=e.data,t.formData.nums=e.data.nums):t.$message.error(e.msg)})},getAddressList:function(){var t=this;t.$request.getAddressList().then(function(e){if(1==e.code){for(var s in e.data)1==e.data[s].is_default&&(t.defaultAddress=e.data[s],t.formData.addr_id=e.data[s].id);t.address=e.data}})},bindDifferent:function(){this.checked?this.formData.different_address=1:(this.formData.different_address=2,this.formData.c_addr_id="")},getformtoken:function(t){var e=this;e.$request.getformtoken().then(function(t){e.formData.form_token=t.data.token})},bindSubscribe:function(){this.subscribe?this.formData.subscription_msg=1:this.formData.subscription_msg=2},bindChangeAddr:function(t){this.dialogTableVisible=!0,this.selectAddrType=t},bindCheckedAddr:function(t){"default"==this.selectAddrType?(this.formData.addr_id=t.id,this.defaultAddress=t,this.dialogTableVisible=!1):(this.formData.c_addr_id=t.id,this.distAddress=t,this.dialogTableVisible=!1)},bindSubmit:function(){var t=this;t.isSubmit||(t.isSubmit=!0,t.$request.setAddRepairOrder(t.formData).then(function(e){t.isSubmit=!1,1==e.code?t.$router.push({path:"/order/repairpay",query:{order_code:e.data.order_code}}):t.formData.form_token=e.data.token}))},addUserAddress:function(){this.dialogTableVisible=!1,this.$router.push("/user/address/info")}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"repair_pay_true_container"},[i("div",{staticClass:"view_nav"},[i("div",{staticClass:"go_nav",on:{click:function(e){return t.goHome()}}},[t._v("Home")]),t._v(" "),i("div",[t._v(">")]),t._v(" "),i("div",[t._v("Confirm order")])]),t._v(" "),i("div",{staticClass:"web_infocontainer ordeinfo_container"},[i("div",{staticClass:"web_orderinfo_trueinfo"},[i("div",{staticClass:"web_orderinfo_trueinfo_title"},[t._v(t._s(t.$t("pay.fill_info")))]),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-title"},[t._v(t._s("ch"==t.lang?"地址信息":"Shipping address")+"：  "),i("div",{staticClass:"addr-show",on:{click:function(e){return t.bindChangeAddr("default")}}},[t._v(t._s("ch"==t.lang?"选择地址":"Select address"))])]),t._v(" "),t.defaultAddress?i("div",{staticClass:"address"},[i("span",[t._v(t._s(t.defaultAddress.last_name+t.defaultAddress.first_name))]),t._v("\n             "+t._s(t.defaultAddress.city)+" "+t._s(t.defaultAddress.address)),i("span",{staticClass:"phone"},[t._v(t._s(t.defaultAddress.mobile))])]):i("div",{staticStyle:{"text-align":"left",color:"#999","padding-left":"15px","margin-bottom":"30px","margin-top":"10px"}},[t._v("\n             Please select recipient address information\n           ")]),t._v(" "),i("div",{staticStyle:{"text-align":"left",margin:"15px 0 0",display:"none"}},[i("el-checkbox",{on:{change:t.bindDifferent},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v(t._s(t.$t("pay.different_address")))])],1)]),t._v(" "),t.checked?i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-title"},[t._v(t._s(t.$t("pay.distInfo"))+"： "),i("div",{staticClass:"addr-show",on:{click:function(e){return t.bindChangeAddr("dist")}}},[t._v(t._s("ch"==t.lang?"选择地址":"Select address"))])]),t._v(" "),t.distAddress?i("div",{staticClass:"address"},[i("span",[t._v(t._s(t.distAddress.last_name+t.distAddress.first_name))]),t._v("\n             "+t._s(t.distAddress.city)+" "+t._s(t.distAddress.address)),i("span",{staticClass:"phone"},[t._v(t._s(t.distAddress.mobile))])]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"info-item"},[i("div",{staticClass:"info-title"},[t._v(t._s("ch"==t.lang?"设备":"Device")+"：")]),t._v(" "),t.detail.models?i("div",{staticClass:"detailed"},t._l(t.detail.models,function(e,s){return i("div",{key:s,staticClass:"detailed-item"},[i("el-image",{attrs:{src:e.phonemodel.full_image}}),t._v(" "),i("div",{staticClass:"detailed-item-info"},[i("h2",[t._v(t._s(e.phonemodel.title)+" "),i("span",{staticStyle:{"margin-left":"10px",color:"#00a0e9","font-size":"14px"}},[t._v("("+t._s("ch"==t.lang?e.color.title_zh:e.color.title)+")")]),t._v(" "),i("span",[t._v("x"+t._s(e.nums))])]),t._v(" "),i("div",{staticClass:"elTage"},t._l(e.project,function(e,s){return i("el-tag",{key:s},[t._v(t._s("ch"==t.lang?e.title_zh:e.title)+" "),i("i",[t._v("$"+t._s(e.price))])])}),1)])],1)}),0):t._e(),t._v(" "),i("div",{staticClass:"info-item",staticStyle:{padding:"0","margin-top":"15px"}},[i("div",{staticStyle:{"margin-bottom":"10px","text-align":"left"}},[t._v(t._s(t.$t("pay.remark"))+"：")]),t._v(" "),i("el-input",{attrs:{type:"textarea"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)])])]),t._v(" "),i("div",{staticClass:"info-item price",staticStyle:{display:"flex","justify-content":"space-between","background-color":"#dddddd","margin-top":"30px","align-items":"center",padding:"15px"}},[i("div",[i("el-checkbox",{staticStyle:{float:"left",display:"none"},on:{click:t.bindSubscribe},model:{value:t.subscribe,callback:function(e){t.subscribe=e},expression:"subscribe"}},[t._v(t._s(t.$t("pay.subscription_msg")))])],1),t._v(" "),i("div",{staticStyle:{display:"flex","align-items":"center","font-size":"15px"}},[i("div",{staticStyle:{"margin-right":"35px"}},[t._v(t._s("ch"==t.lang?"共计":"Total")+" "+t._s(t.detail.nums)+" "+t._s("ch"==t.lang?"件商品":"items")+"，"+t._s("ch"==t.lang?"总价":"Total price")+"：$"+t._s(t.detail.totalprice)+"，"+t._s("ch"==t.lang?"应付":"Payable")+"："),i("span",{staticStyle:{color:"#fe4e4e","font-size":"24px","font-style":"italic"}},[t._v("$"+t._s(t.detail.payprice))])]),t._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.isSubmit,expression:"isSubmit"}],staticClass:"submit_btns",on:{click:t.bindSubmit}},[t._v(t._s(t.$t("config.submit_order")))])],1)])]),t._v(" "),t.dialogTableVisible?i("el-dialog",{attrs:{visible:t.dialogTableVisible,width:"800px",title:"Recipient information"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticClass:"addr-ul"},[t.address&&t.address.length>0?i("div",[i("div",{staticStyle:{overflow:"hidden","margin-bottom":"15px"}},[i("div",{staticClass:"add_address_btn fr",on:{click:function(e){return t.addUserAddress()}}},[t._v("Add address")])]),t._v(" "),t._l(t.address,function(e,s){return i("div",{key:s,staticClass:"addr-li",class:e.id==t.formData.c_addr_id?"active":"",on:{click:function(s){return t.bindCheckedAddr(e)}}},[i("div",{staticStyle:{"font-size":"18px"}},[t._v(t._s(e.city)+" "+t._s(e.address))]),t._v(" "),i("div",[t._v("\n            "+t._s(e.last_name)+t._s(e.first_name)+"\n            "),i("span",[t._v(t._s(e.mobile))])])])})],2):i("div",{staticStyle:{width:"max-content",margin:"auto","text-align":"center"}},[i("img",{staticStyle:{width:"150px"},attrs:{src:s("mAJy"),alt:""}}),t._v(" "),i("div",[t._v("You haven't added address information yet.\n          "),i("span",{staticStyle:{color:"#00a0e9",cursor:"pointer"},on:{click:function(e){return t.addUserAddress()}}},[t._v("\n            Add it now\n          ")])])])])]):t._e()],1)},staticRenderFns:[]};var d=s("VU/8")(i,a,!1,function(t){s("wh3r")},"data-v-4f5b6801",null);e.default=d.exports},wh3r:function(t,e){}});