webpackJsonp([18],{"3lzd":function(t,e){},llaD:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"useraddress_container"},[i("div",{staticClass:"view_nav"},[i("div",{staticClass:"go_nav",on:{click:function(e){return t.goHome()}}},[t._v("Home")]),t._v(" "),i("div",[t._v(">")]),t._v(" "),i("div",{staticClass:"go_nav",on:{click:function(e){return t.goUserInfo()}}},[t._v("User info")]),t._v(" "),i("div",[t._v(">")]),t._v(" "),i("div",[t._v("Shopping address")])]),t._v(" "),i("div",{staticStyle:{"text-align":"right","margin-top":"15px","margin-bottom":"-10px"}},[i("div",{staticStyle:{overflow:"hidden","margin-right":"30px"}},[i("router-link",{staticClass:"address-add",attrs:{to:{path:"/user/address/info",query:{page:t.prve_page}}}},[t._v(t._s("ch"==t.lang?"新增地址":"New Address"))])],1)]),t._v(" "),i("div",{staticClass:"address-body-r"},[t.address&&t.address.length>0?i("div",{staticClass:"address-ul"},t._l(t.address,function(e,s){return i("div",{key:s,staticClass:"address-li"},[i("div",{staticStyle:{overflow:"hidden",display:"flex","justify-content":"space-between","align-items":"center"}},[i("div",[1==e.is_default?i("span",{staticClass:"default_address"},[t._v("默认")]):t._e(),t._v(" "),i("span",{staticStyle:{"font-size":"20px"}},[i("span",[t._v(t._s("ch"==t.lang?e.country.title_zh:e.country.title))]),t._v(" "),""!=e.state?i("span",[t._v(t._s(e.state))]):t._e(),t._v(" "),i("span",[t._v(t._s(e.city))]),t._v(" "),i("span",[t._v(t._s(e.address))])])]),t._v(" "),i("div",[i("i",{staticClass:"el-icon-edit",staticStyle:{"margin-right":"15px",cursor:"pointer"},on:{click:function(s){return t.bindAddressEdit(e.id)}}}),t._v(" "),i("i",{staticClass:"el-icon-delete",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.bindDel(e.id)}}})])]),t._v(" "),i("div",[i("div",[i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(e.last_name)+t._s(e.first_name))]),t._v(" "),i("span",{staticStyle:{"font-size":"15px",margin:"0 5px"}},[t._v(t._s(e.mobile))])]),t._v(" "),1!=e.is_default?i("el-checkbox",{on:{change:function(s){return t.bindDefaultAddress(e)}}},[i("span",{staticStyle:{color:"#00a0e9"}},[t._v(t._s(t.$t("address.defaultAdd")))])]):t._e()],1)])}),0):i("div",{staticClass:"kong"},[i("img",{staticStyle:{width:"150px"},attrs:{src:s("mAJy")}}),t._v(" "),i("p",[t._v(t._s("ch"==t.lang?"你还没有添加地址！":"You haven't added an address yet"))])])])])},staticRenderFns:[]};var a=s("VU/8")({components:{},data:function(){return{prve_page:"",lang:this.$i18n.locale,address:[]}},created:function(){this.getQuery(),this.getformtoken(),this.getAddressList()},methods:{goHome:function(){this.$router.push("/")},goUserInfo:function(){this.$router.push("/user")},getQuery:function(){this.$route.query&&this.$route.query.page&&(this.prve_page=this.$route.query.page)},getformtoken:function(t){var e=this;e.$request.getformtoken().then(function(t){1==t.code&&(e.form_token=t.data.token,e.getUserInfo())})},getAddressList:function(){var t=this;t.$request.getAddressList().then(function(e){1==e.code&&(t.address=e.data)})},bindDefaultAddress:function(t){var e=this,s={id:t.id,first_name:t.first_name,last_name:t.last_name,country_id:t.country_id,state_id:t.state_id,city:t.city,address:t.address,postal_code:t.postal_code,mobile:t.mobile,email:t.email,is_default:1};e.$request.editAddress(s).then(function(t){1==t.code?(e.$toast({type:"success",message:t.msg}),e.prve_page?e.$router.push({path:e.prve_page}):e.getAddressList()):e.$toast({type:"fail",message:t.msg})})},bindDel:function(t){var e=this;e.$request.delAddress({id:t}).then(function(t){e.$toast({type:"fail",message:t.msg}),1==t.code&&e.getAddressList()})},bindAddressEdit:function(t){var e={id:t};this.prve_page&&(e={id:t,page:this.prve_page}),this.$router.push({path:"/user/address/info",query:e})}}},i,!1,function(t){s("3lzd")},"data-v-70c1b594",null);e.default=a.exports}});