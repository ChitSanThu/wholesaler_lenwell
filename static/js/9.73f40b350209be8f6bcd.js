webpackJsonp([9],{"5/zg":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={components:{},data:function(){return{id:"",prve_page:"",userInfo:"",lang:this.$i18n.locale,address:"",country:[],stateList:[],is_default:!1,formData:{first_name:"",last_name:"",country_id:"",state_id:"",city:"",address:"",postal_code:"",mobile:"",email:"",is_default:2},rules:{first_name:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.first_name"),trigger:"blur|change"}],last_name:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.last_name"),trigger:"blur|change"}],country_id:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.country"),trigger:"blur|change"}],state_id:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.state"),trigger:"blur|change"}],city:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.city"),trigger:"blur|change"}],address:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.street_addr"),trigger:"blur|change"}],postal_code:[{required:!0,message:this.$t("pay.enter")+this.$t("pay.postcode"),trigger:"blur|change"}],mobile:[{required:!0,message:this.$t("rules.phone_no"),trigger:"blur|change"},{pattern:/^1[1|2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:this.$t("rules.phone_err"),trigger:"blur|change"}],email:[{required:!0,message:this.$t("rules.email_no"),trigger:"blur|change"},{pattern:"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$",message:this.$t("rules.email_err"),trigger:"blur|change"}]}}},created:function(){this.getQuery(),this.getformtoken(),this.getCountrys(),this.getCity()},methods:{goHome:function(){this.$router.push("/")},goUserInfo:function(){this.$router.push("/user")},goAddress:function(){this.$router.push("/user/address")},EditUserInfo:function(){this.$router.push("/user/info")},bindLoingout:function(){this.$request.loginout().then(function(t){}),localStorage.clear(),location.reload()},getQuery:function(){this.$route.query&&(this.$route.query.page&&(this.prve_page=this.$route.query.page),this.$route.query.id&&(this.id=this.$route.query.id,this.getAddressInfo(this.$route.query.id)))},getformtoken:function(t){var e=this;e.$request.getformtoken().then(function(t){1==t.code&&(e.form_token=t.data.token,e.getUserInfo())})},getUserInfo:function(){var t=this;t.$request.getuserinfo({form_token:t.form_token}).then(function(e){1==e.code&&(t.userInfo=e.data?e.data:{full_avatar:"",nickname:"",autograph:""})})},getAddressInfo:function(t){var e=this;e.$request.getAddressDefault({id:t}).then(function(t){if(1==t.code)for(var a in t.data)for(var r in e.formData)a==r&&("country"==a?e.formData[r]=t.data[a].id:("is_default"==a&&(e.is_default=1==t.data[a]),e.formData[r]=t.data[a]))})},getCountrys:function(){var t=this;t.$request.getCountrys().then(function(e){1==e.code&&(t.country=e.data)})},getCity:function(){var t=this;t.$request.getCity().then(function(e){1==e.code&&(t.stateList=e.data)})},bindIsDefault:function(){this.is_default?this.formData.is_default=1:this.formData.is_default=2},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.id?(e.formData.id=e.id,e.$request.editAddress(e.formData).then(function(t){1==t.code&&(e.$toast({type:"success",message:t.msg}),setTimeout(function(){e.$router.back(-1)},1500))})):e.$request.AddAddress(e.formData).then(function(t){1==t.code&&(e.$toast({type:"success",message:t.msg}),setTimeout(function(){e.$router.back(-1)},1500))}))})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"useraddress_edit_container"},[a("div",{staticClass:"view_nav"},[a("div",{staticClass:"go_nav",on:{click:function(e){return t.goHome()}}},[t._v("Home")]),t._v(" "),a("div",[t._v(">")]),t._v(" "),a("div",{staticClass:"go_nav",on:{click:function(e){return t.goUserInfo()}}},[t._v("User info")]),t._v(" "),a("div",[t._v(">")]),t._v(" "),a("div",{staticClass:"go_nav",on:{click:function(e){return t.goAddress()}}},[t._v("Shopping address")]),t._v(" "),a("div",[t._v(">")]),t._v(" "),a("div",[t._v("Address info")])]),t._v(" "),a("div",{staticClass:"useraddress_edit_content"},[a("div",{staticClass:"address-body-r"},[a("div",{staticStyle:{"font-size":"22px","line-height":"80px"}},[t._v("Address information editing")]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.formData,rules:t.rules,"label-width":"150px","label-position":"top"}},[a("el-form-item",{attrs:{label:t.$t("pay.first_name"),prop:"first_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.first_name,callback:function(e){t.$set(t.formData,"first_name",e)},expression:"formData.first_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.last_name"),prop:"last_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.last_name,callback:function(e){t.$set(t.formData,"last_name",e)},expression:"formData.last_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.country"),prop:"country_id"}},[a("el-select",{attrs:{placeholder:"Please select"},model:{value:t.formData.country_id,callback:function(e){t.$set(t.formData,"country_id",e)},expression:"formData.country_id"}},t._l(t.country,function(e){return a("el-option",{key:e.id,attrs:{label:"ch"==t.lang?e.title_zh:e.title,value:e.id}})}),1)],1),t._v(" "),1==t.formData.country_id?a("el-form-item",{attrs:{label:t.$t("pay.state"),prop:"state_id"}},[1==t.formData.country_id?a("el-select",{attrs:{placeholder:"Please select"},model:{value:t.formData.state_id,callback:function(e){t.$set(t.formData,"state_id",e)},expression:"formData.state_id"}},t._l(t.stateList,function(e){return a("el-option",{key:e.id,attrs:{label:"ch"==t.lang?e.title_zh:e.title,value:e.id}})}),1):a("el-input",{model:{value:t.formData.state,callback:function(e){t.$set(t.formData,"state",e)},expression:"formData.state"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.city"),prop:"city"}},[a("el-input",{model:{value:t.formData.city,callback:function(e){t.$set(t.formData,"city",e)},expression:"formData.city"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.address"),prop:"address"}},[a("el-input",{model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.postcode"),prop:"postal_code"}},[a("el-input",{model:{value:t.formData.postal_code,callback:function(e){t.$set(t.formData,"postal_code",e)},expression:"formData.postal_code"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.phone"),prop:"phone"}},[a("el-input",{model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("pay.email"),prop:"email"}},[a("el-input",{model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"padding-left":"120px"}},[a("el-checkbox",{on:{change:t.bindIsDefault},model:{value:t.is_default,callback:function(e){t.is_default=e},expression:"is_default"}},[t._v(t._s(t.$t("address.defaultAdd")))])],1),t._v(" "),a("el-form-item",{staticClass:"form-btn",staticStyle:{"padding-left":"120px","padding-top":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Submit")])],1)],1)],1)])])},staticRenderFns:[]};var i=a("VU/8")(r,s,!1,function(t){a("7uMC")},null,null);e.default=i.exports},"7uMC":function(t,e){}});